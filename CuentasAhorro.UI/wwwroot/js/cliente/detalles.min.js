const clienteRepository=new Repository("Cliente"),cuentaRepository=new Repository("Cuenta");let obtenerCliente=()=>{clienteRepository.httpGet("ObtenerDetalles",{id:$("#clienteID").val()}).then(n=>{n.correct?($("#nombre").html(n.data.nombreCompleto),$("#numero").html(`<b>${n.data.clienteID}</b>`),$("#fecha").html(`<b>${moment(n.data.fechaRegistro).format("YYYY-MM-DD")}</b>`),obtenerCuentas()):requestError(n.message)}).catch(n=>{serviceError(`${n.status} - ${n.statusText}`)})},obtenerCuentas=()=>{$(".cards").empty(),cuentaRepository.httpGet("ObtenerCuentas",{id:$("#clienteID").val()}).then(n=>{n.correct?(n.data[0]?$.each(n.data,function(n,t){$(".cards").append(`<div class="cards__card" data-cuenta="${t.cuentaID}"><label><i class="fi fi-rr-wallet"></i></label><p>${t.numeroCuenta}</p></div>`)}):$(".cards").append('<div class="cards__card--empty"><i class="fi fi-rr-engine-warning"><\/i><h6>El cliente a√∫n no ha aperturado ninguna cuenta de ahorro<\/h5><\/div>'),swal.close()):requestError(n.message)}).catch(n=>{serviceError(`${n.status} - ${n.statusText}`)})};$(function(){moment.tz.setDefault("America/Mexico_City");$("#clienteID").val()?(waiting(),setTimeout(function(){obtenerCliente()},1500)):$("#aperturar").prop("disabled",!0);$("#aperturar").on("click",function(){window.location.href=`/Cuenta/Aperturar/${parseInt($("#clienteID").val())}`});$(".cards__card").on("click",function(){window.location.href=`/Cuenta/Detalles/${parseInt($(this).data("cuenta"))}`})});