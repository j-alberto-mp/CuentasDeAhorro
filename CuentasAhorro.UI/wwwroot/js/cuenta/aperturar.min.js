const clienteRepository=new Repository("Cliente"),cuentaRepository=new Repository("Cuenta");let obtenerCliente=()=>{clienteRepository.httpGet("ObtenerDetalles",{id:$("#clienteID").val()}).then(n=>{n.correct?n.data?($("#numeroCliente").val(n.data.clienteID),$("#nombre").val(n.data.nombre),$("#apellidoPaterno").val(n.data.apellidoPaterno),$("#apellidoMaterno").val(n.data.apellidoMaterno),swal.close()):info("No se encontraron resultados","No se encontró ningún cliente que coincida con el número proporcionado"):requestError(n.message)}).catch(n=>{serviceError(`${n.status} - ${n.statusText}`)})},guardarRegistro=()=>{processing("Creando cuenta de ahorro...");let n={clienteID:$("#numeroCliente").val(),saldo:$("#montoCuenta").val().replace(",","")};cuentaRepository.httpPost("Guardar",n).then(n=>{n.correct?n.data&&success("Nueva cuenta de ahorro","Se realizó la apertura de una cuenta de ahorro",`/Cuenta/Detalles/${n.data.cuentaID}`):requestError(n.message)}).catch(n=>{serviceError(`${n.status} - ${n.statusText}`)})};$(function(){$("#numeroCliente").mask("0#");$("#montoCuenta").mask("000,000,000,000,000.00",{reverse:!0});parseInt($("#clienteID").val())>0&&(waiting(),setTimeout(function(){obtenerCliente();$("#guardar").prop("disabled",!1)},1500));$("#guardar").on("click",function(){$("#montoCuenta").val()?guardarRegistro():swal({icon:"info",title:"No se ingresó un monto inicial",text:"No ingresaste un monto inicial, la cuenta de ahorro será creada con un saldo inicial de $0, ¿Deseas continuar?",buttons:{cancel:{text:"CANCELAR",value:!1,visible:!0,className:"no--padding",closeModal:!0},confirm:{text:"ACEPTAR",value:!0,visible:!0,className:"no--padding",closeModal:!0}},closeOnClickOutside:!1,closeOnEsc:!1}).then(n=>{n&&($("#montoCuenta").val(0),guardarRegistro())})})});