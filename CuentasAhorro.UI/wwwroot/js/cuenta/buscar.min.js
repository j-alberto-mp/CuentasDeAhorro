const repository=new Repository("Cuenta");let busqueda,buscarCuentas=n=>{waiting(),repository.httpGet("BuscarCuentas",n).then(n=>{n.correct?($(".info__result tbody").empty(),n.data[0]?($.each(n.data,function(n,t){$(".info__result tbody").append("<tr>"+`<td>${n+1}</td>`+`<td>${t.clienteID}</td>`+`<td>${t.nombre} ${t.apellidoPaterno} ${t.apellidoMaterno}</td>`+`<td>${format(t.numeroCuenta)}</td>`+`<td><button type="button" data-cuenta="${t.cuentaID}">VER DETALLE</button></td>`+"<\/tr>")}),swal.close()):info("No se encontraron resultados","No se encontró ninguna cuenta de ahorro que coincida con los datos proporcionados")):requestError(n.message)}).catch(n=>{serviceError(`${n.status} - ${n.statusText}`)})};$(function(){clearInputs();$("#numeroCliente").mask("0#");$("#nombre, #apellidoPaterno, #apellidoMaterno").mask("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",{byPassKeys:[8,32],translation:{A:{pattern:/^[a-zA-Z\s]$/}}});$("#numeroCuenta").mask("AA00 0000 0000 0000",{translation:{A:{pattern:/^[a-zA-Z\s]$/}}});$('input[type="radio"]').on("change",function(){clearInputs();$(".info__search div").hide();busqueda=$(this).data("busqueda");$(`#${busqueda}`).show();$("#buscar").prop("disabled",!1)});$("#buscar").on("click",function(){if(busqueda==="b_1")if($("#numeroCliente").val()){let n={clienteID:$("#numeroCliente").val()};buscarCuentas(n)}else info("No se puede realizar la búsqueda","Debes ingresar el número del cliente");else if(busqueda==="b_2")if($("#nombre").val()||$("#apellidoPaterno").val()||$("#apellidoMaterno").val()){let n={nombre:$("#nombre").val(),apellidoPaterno:$("#apellidoPaterno").val(),apellidoMaterno:$("#apellidoMaterno").val()};buscarCuentas(n)}else info("No se puede realizar la búsqueda","Debes ingresar un valor en al menos uno de los campos");else if($("#numeroCuenta").val()){let n={numeroCuenta:$("#numeroCuenta").val().replace(" ","")};buscarCuentas(n)}else info("No se puede realizar la búsqueda","Debes ingresar el número de cuenta")});$(".info__result tbody").on("click","button",function(){window.location.href=`/Cuenta/Detalles/${parseInt($(this).data("cuenta"))}`})});